{
  "permissions": {
    "allow": [
      "Bash(npm run build:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nFix: Enhanced date field sanitization in employee PATCH endpoint\n\nFixed \"invalid input syntax for type date\" error that occurred when updating \nemployee fields like filing status.\n\n## Problem\nWhen updating any employee field, if date fields (dob, hire_date, inactive_date) \nhad null or undefined values, they could be sent as empty strings or \"undefined\" \nstrings, causing PostgreSQL to reject the update.\n\n## Solution\nEnhanced the sanitization logic in the PATCH endpoint to:\n1. Convert empty strings (\"\") to null\n2. Convert undefined values to null\n3. Convert \"undefined\" strings to null\n4. Remove any undefined keys from the update object entirely\n\n## Changes\n- apps/web/src/app/api/employees/route.ts\n  - Improved date field sanitization (lines 74-84)\n  - Added cleanup of undefined values (lines 86-91)\n  - Added console.error logging for debugging\n\nThis ensures that no matter what values are sent from the frontend,\nthe database always receives valid date values (proper date string or null).\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nSimplify benefits display - show total only instead of catalog\n\nRemoved the detailed benefits catalog list and replaced it with a single \ntotal enrolled benefits amount on the employee detail page.\n\n## Changes\n\n**Before:**\n- Listed each individual benefit with plan code\n- Showed FIT/FICA reduction details per benefit\n- Displayed individual benefit amounts\n- Total shown at bottom\n\n**After:**\n- Single clean card showing total enrolled benefits only\n- Large prominent display: \"Total Enrolled Benefits\"\n- Amount shown in large blue text\n- Simple \"per pay\" label\n\n## Benefits\n\nâœ… Cleaner, simpler UI\nâœ… Focus on the total amount (what matters for calculations)\nâœ… Less visual clutter\nâœ… Faster to scan and understand\n\nFiles Modified:\n- apps/web/src/app/companies/[id]/employees/[empId]/page.tsx\n  - Removed detailed benefits list\n  - Added simple total benefits card\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit:*)"
    ],
    "deny": [],
    "ask": []
  }
}
